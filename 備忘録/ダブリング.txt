ダブリングのテンプレのようなもの
【お気持ち】
１つ次の遷移がわかっている時、2の累乗を用いて巨大な数の遷移を実行できる

int doubling[70][100010];
//0行目に1つ先の遷移を代入
rept(i, 1, 70){
   rep(j, n){
	//1つ上の遷移を二回行う。
	int cur = j;
	cur = d[i-1][cur];
	d[i][j] = d[i-1][cur];
   }
}

//遷移数kを二進数化して処理する
    int res = 0;
    rep(i, 70){
        if(k <=0) break;
        if(k%2==1){
            res = d[i][res];
        }
        k /= 2;
    }